<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>翠色聖禱祭 ∥ 非官方奧利文生日慶祝應援企劃2024</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/twemoji-colr-font@15.0.3/twemoji.min.css">
    <style>


        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Noto Sans TC","Twemoji", sans-serif;
            font-optical-sizing: auto;
            font-weight: 500;
            font-style: normal;
            letter-spacing: 3px;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        body{
            background: url(images/test.png) center center/contain no-repeat fixed padding-box border-box #ccc;
        }

        .frame {
            width: 100vw;
            height: 100vh;
            border: 10px solid #333;
            padding: 20px;

        }
        .bg{
            width: 100vw;
            height: 100vh; 
            position: absolute;
            display: grid;
            grid-template-columns: 1fr 1000px 1fr;

        }

        .bg-L,.bg-R{
            overflow: hidden;
            position: relative;
            background: repeating-linear-gradient(-45deg,transparent,transparent 12px,#f0cea5 0,#f0cea5 14px);
            
        }

        .bg-L{
            mask: linear-gradient(90deg, #000 10%, transparent);
        }
        .bg-R{
            mask: linear-gradient(-90deg, #000 10%, transparent);
        }

        .ribbon{
            width: 100vw;
            height: 52vh; 
            position: absolute;
            background: #f0cea5;
            top: calc( 50vh - 26vh);
            transform: rotate(8deg) scale(2, 1);
        }

        .tabs {
            display: flex;
            flex-direction: column;
            height: 100%;
            margin-left: auto;
            margin-right: auto;
            position: relative;
        }

        .tab-buttons {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
            background-color: rgb(51, 51, 51,.5);
            transition: .3s;
            min-height: 30px;
        }

        .tab-buttons button {
            padding: 5px;
            color: white;
            background-color: rgb(51, 51, 51,.5);
            border: none;
            cursor: pointer;
        }

        .tab-buttons button.active {
            background-color: rgb(255, 192, 203,.5);
        }

        .tab-contents {
            height: 100%;
            overflow: hidden;
            position: relative;
            border: 3px solid #333;
            margin-top: calc(10px - 1.5px);
            border-radius: 40px;
        }

        .tab-content {
            position: absolute;
            top: 100%;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            opacity: 0;
            transition: top 0.5s, opacity 0.5s;
            background: rgb(255, 255, 0,.5);
        }

        .tab-content.active {
            top: 0;
            opacity: 1;
        }

        .starbar {
            position: absolute;
            width: 100%;
            height: 20px;
            display: grid;
            grid-template-columns: 0fr 2fr 4fr;
            transition: .6s;
            background: rgb(255, 0, 0,.5);
            top: 30px;
            z-index: 1;
        }
        .spaceleft {
            background: rgb(0, 128, 0,.5);
            
        }
        .star {
            text-align: center;
        }
        .spaceright {
            background: rgb(0, 0, 255.5);
        }


        @media screen and (min-width: 1200px) {
            .tabs {
                max-width: 1140px;
        }
        }

        @media screen and (min-width: 768px) and (max-width: 992px){
            .tabs {
                max-width: 960px;
        }
        }

        @media screen and (max-width: 767px)  {
            .tabs {
                max-width: 720px;
        }
        }

        @media screen and (max-width: 576px)  {
            .tabs {
                max-width: 540px;
        }
        }

        @media screen and (max-device-width: 480px) {

        .frame {
            padding: 10px;
        }
        .tabs {
            height: calc(100% - 60px);
        }
        }
        
    </style>
</head>
<body>
    <div class="bg">
        <div class="bg-L"></div>
        <div class="bg-M"></div>
        <div class="bg-R"></div>
        <div class="ribbon"></div>
    </div>
    <div class="frame">

        <div class="tabs">
            <div class="tab-buttons">
                <button class="active" onclick="showTab(0)">首頁</button>
                <button onclick="showTab(1)">活動概要</button>
                <button onclick="showTab(2)">咖啡廳應援</button>
                <button onclick="showTab(3)">信徒創作募集</button>
                <button onclick="showTab(4)">企劃團隊</button>
            </div>
            <div class="starbar">
                <div class="spaceleft"></div>
                <div class="star">✧</div>
                <div class="spaceright"></div>
            </div>
            <div class="tab-contents">
                <div class="tab-content active">Tab 1 Content</div>
                <div class="tab-content">Tab 2 Content</div>
                <div class="tab-content">Tab 3 Content</div>
                <div class="tab-content">Tab 4 Content</div>
                <div class="tab-content">Tab 5 Content</div>
            </div>
        </div>
    </div>

    <script>
        let currentTab = 0;

function showTab(index) {
    const buttonSwitch = document.querySelector('.tab-buttons');
    const buttons = document.querySelectorAll('.tab-buttons button');
    const contents = document.querySelectorAll('.tab-content');
    const starBar = document.querySelector('.starbar');

    buttons.forEach((button, i) => {
        button.classList.remove('active');
        // button.style.gridColumn = `span 1`;
        if (i === index) {
            button.classList.add('active');
            // button.style.gridColumn = `span 2`;
        }
    });

    contents.forEach(content => {
        content.classList.remove('active');
        content.style.top = "100%";
        content.style.opacity = "0";
    });

    contents[index].classList.add('active');
    contents[index].style.top = "0";
    contents[index].style.opacity = "1";

    // 更改starbar的位置
    switch (index) {
        case 0:
            starBar.style.gridTemplateColumns = '0fr 2fr 4fr';
            buttonSwitch.style.gridTemplateColumns = '2fr 1fr 1fr 1fr 1fr';
            break;
        case 1:
            starBar.style.gridTemplateColumns = '1fr 2fr 3fr';
            buttonSwitch.style.gridTemplateColumns = '1fr 2fr 1fr 1fr 1fr';
            break;
        case 2:
            starBar.style.gridTemplateColumns = '2fr 2fr 2fr';
            buttonSwitch.style.gridTemplateColumns = '1fr 1fr 2fr 1fr 1fr';
            break;
        case 3:
            starBar.style.gridTemplateColumns = '3fr 2fr 1fr';
            buttonSwitch.style.gridTemplateColumns = '1fr 1fr 1fr 2fr 1fr';
            break;
        case 4:
            starBar.style.gridTemplateColumns = '4fr 2fr 0fr';
            buttonSwitch.style.gridTemplateColumns = '1fr 1fr 1fr 1fr 2fr';
            break;
    }

    currentTab = index;
}


        function handleScroll(event) {
            const delta = Math.sign(event.deltaY);
            if (delta > 0) {
                currentTab = (currentTab + 1) % 5;
            } else {
                currentTab = (currentTab - 1 + 5) % 5;
            }
            showTab(currentTab);
        }

        window.addEventListener('wheel', handleScroll);

        let touchStartY = 0;

        function handleTouchStart(event) {
            touchStartY = event.touches[0].clientY;
        }

        function handleTouchEnd(event) {
            const touchEndY = event.changedTouches[0].clientY;
            const delta = touchStartY - touchEndY;
            if (Math.abs(delta) > 50) { // Min delta to consider as a swipe
                if (delta > 0) {
                    currentTab = (currentTab + 1) % 5;
                } else {
                    currentTab = (currentTab - 1 + 5) % 5;
                }
                showTab(currentTab);
            }
        }

        window.addEventListener('touchstart', handleTouchStart);
        window.addEventListener('touchend', handleTouchEnd);
    </script>
</body>
</html>